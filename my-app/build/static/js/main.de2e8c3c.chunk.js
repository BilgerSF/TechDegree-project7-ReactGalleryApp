(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{22:function(e,t,a){e.exports=a(34)},27:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),i=a.n(c),l=(a(27),a(21)),o=a(10),s=a(11),m=a(6),u=a(13),h=a(12);var f=function(e){return e.links.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("img",{src:e,alt:"Img removed"}))}))};var d=function(){return r.a.createElement("div",{className:"photo-container"},r.a.createElement("h2",null,"Sorry, no images match your search"))};var p=function(e){var t=Array.from(e.links),a=e.route,n=e.loading,c=e.submition,i=e.links.length;return"New York"===a?(t.splice(72,24),t.splice(24,48),c=!1):"San Francisco"===a?(t.splice(72,24),t.splice(48,24),t.splice(0,24),c=!1):"Paris"===a?(t.splice(72,24),t.splice(0,48),c=!1):t.splice(0,72),!1===n&&72===i&&!0===c?r.a.createElement(d,null):!1===n?r.a.createElement("div",{className:"photo-container"},r.a.createElement("h2",null,"Results"),r.a.createElement("ul",null,r.a.createElement(f,{links:t}))):!0===n?r.a.createElement("div",{className:"photo-container"},r.a.createElement("h2",{className:"loader"},"Loading...")):void 0},E=a(8);var b=function(){return r.a.createElement("nav",{className:"main-nav"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(E.b,{exact:!0,to:"/New York"},"New York")),r.a.createElement("li",null,r.a.createElement(E.b,{exact:!0,to:"/San Francisco"},"San Francisco")),r.a.createElement("li",null,r.a.createElement(E.b,{exact:!0,to:"/Paris"},"Paris"))))},k=a(1),g=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={keys:[]},n.keyHandler=n.keyHandler.bind(Object(m.a)(n)),n.submitHandler=n.submitHandler.bind(Object(m.a)(n)),n}return Object(s.a)(a,[{key:"keyHandler",value:function(e){this.setState({keys:e.target.value})}},{key:"submitHandler",value:function(e){e.preventDefault(),this.props.history.push("/Search/".concat(this.state.keys)),this.props.callBack(this.state.keys)}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.submitHandler,className:"search-form"},r.a.createElement("input",{type:"text",value:this.state.keys,onChange:this.keyHandler}),r.a.createElement("button",{type:"submitt"},r.a.createElement("svg",{id:"Capa_1",enableBackground:"new 0 0 512 512",height:"28",viewBox:"0 0 512 512",width:"28",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",null,r.a.createElement("path",{d:"m175.614 282.421h90v25h-90z",fill:"#83a3ab",transform:"matrix(.707 -.707 .707 .707 -143.924 242.378)"}),r.a.createElement("path",{d:"m168.543 280.35h90v15h-90z",fill:"#93b7c0",transform:"matrix(.707 -.707 .707 .707 -140.996 235.307)"}),r.a.createElement("path",{d:"m66.192 403.381-53.033 95.46c17.545 17.545 46.094 17.546 63.64 0l21.213-21.213z",fill:"#93b7c0"}),r.a.createElement("path",{d:"m34.373 413.988-21.213 21.213c-17.546 17.546-17.545 46.094 0 63.64l74.246-74.246z",fill:"#acd5df"}),r.a.createElement("path",{d:"m98.012 477.627 142.048-142.047-31.82-31.82-92.237 49.811-49.811 92.237z",fill:"#3a6fd8"}),r.a.createElement("path",{d:"m20.863 336.374h200.885v45h-200.885z",fill:"#3b88f5",transform:"matrix(.707 -.707 .707 .707 -218.232 190.888)"}),r.a.createElement("path",{d:"m463.526 48.474-175.539 58.513-58.513 175.539c64.632 64.632 169.421 64.632 234.052 0s64.632-169.42 0-234.052z",fill:"#93b7c0"}),r.a.createElement("path",{d:"m229.474 48.474c-64.632 64.632-64.632 169.421 0 234.052l234.052-234.052c-64.632-64.632-169.42-64.632-234.052 0z",fill:"#acd5df"}),r.a.createElement("path",{d:"m421.1 90.9-111.9 37.3-37.3 111.9c41.2 41.2 107.999 41.2 149.2 0s41.2-107.999 0-149.2z",fill:"#c4f3ff"}),r.a.createElement("path",{d:"m271.9 90.9c-41.2 41.2-41.2 107.999 0 149.2l149.2-149.2c-41.201-41.2-107.999-41.2-149.2 0z",fill:"#fff"})))))}}]),a}(r.a.Component),v=Object(k.g)(g);var y=function(){return r.a.createElement("h2",null,"404 Not found")},w=a(33),S=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={images:[],loading:!0,submition:!1},n.stateHandler=n.stateHandler.bind(Object(m.a)(n)),n.fetcher=n.fetcher.bind(Object(m.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.fetcher("New York,Times Square,Central Park,New York night"),setTimeout((function(){e.fetcher("San Francisco,San Francisco Bridge,San Francisco Salesforce")}),400),setTimeout((function(){e.fetcher("Paris,Eiffel Tower")}),800)}},{key:"stateHandler",value:function(e){var t;this.setState({submition:!0,loading:!0}),72===this.state.images.length||((t=Array.from(this.state.images)).splice(72,24),this.setState({images:t})),this.fetcher(e)}},{key:"fetcher",value:function(e){var t=this;w("https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=".concat("18402ceb172cff66fa1f5197f318d75c","&tags=").concat(e,"&per_page=24&sort=relevance&content_type=1&format=json&nojsoncallback=1")).then((function(e){return e.json()})).then((function(e){var a=e.photos.photo;t.jsonParser(a),t.setState({loading:!1})})).catch((function(e){console.error("Error Fetching data from flickr API",e)}))}},{key:"jsonParser",value:function(e){var t=[],a=[],n=[],r=[];e.forEach((function(e){t.push(e.farm),a.push(e.server),n.push(e.id),r.push(e.secret)})),this.imageLinkBuilder(t,a,n,r)}},{key:"imageLinkBuilder",value:function(e,t,a,n){var r,c;for(c=0;c<=e.length-1;c++)r="http://farm".concat(e[c],".staticflickr.com/").concat(t[c],"/").concat(a[c],"_").concat(n[c],".jpg"),this.setState({images:[].concat(Object(l.a)(this.state.images),[r])})}},{key:"render",value:function(){var e=this;return r.a.createElement(E.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(b,null),r.a.createElement(v,{callBack:this.stateHandler})),r.a.createElement(k.d,null,r.a.createElement(k.b,{exact:!0,path:"/",render:function(){return r.a.createElement(k.a,{to:"/New York"})}}),r.a.createElement(k.b,{exact:!0,path:"/New York",render:function(){return r.a.createElement(p,{links:e.state.images,loading:e.state.loading,submition:e.state.submition,route:"New York"})}}),r.a.createElement(k.b,{exact:!0,path:"/San Francisco",render:function(){return r.a.createElement(p,{links:e.state.images,loading:e.state.loading,submition:e.state.submition,route:"San Francisco"})}}),r.a.createElement(k.b,{exact:!0,path:"/Paris",render:function(){return r.a.createElement(p,{links:e.state.images,loading:e.state.loading,submition:e.state.submition,route:"Paris"})}}),r.a.createElement(k.b,{exact:!0,path:"/Search/:keys",render:function(){return r.a.createElement(p,{links:e.state.images,loading:e.state.loading,submition:e.state.submition,route:"Search"})}}),r.a.createElement(k.b,{exact:!0,path:"/Search/",component:d}),r.a.createElement(k.b,{component:y})))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.de2e8c3c.chunk.js.map